(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/basics/details"],{"112f":function(e,s,i){"use strict";i.r(s);var o=i("d580"),t=i("33b4");for(var n in t)"default"!==n&&function(e){i.d(s,e,(function(){return t[e]}))}(n);i("7120");var c,a=i("f0c5"),r=Object(a["a"])(t["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],c);s["default"]=r.exports},"33b4":function(e,s,i){"use strict";i.r(s);var o=i("a2a4"),t=i.n(o);for(var n in o)"default"!==n&&function(e){i.d(s,e,(function(){return o[e]}))}(n);s["default"]=t.a},7120:function(e,s,i){"use strict";var o=i("c6b9"),t=i.n(o);t.a},a2a4:function(e,s,i){"use strict";(function(e){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var o=function(){i.e("components/echone-sku/echone-sku").then(function(){return resolve(i("a90b"))}.bind(null,i)).catch(i.oe)},t={components:{echoneSku:o},data:function(){return{index:0,detailsTypeArray:["一盒三种口味","一盒一种口味"],detailsTypeIndex:0,detailsTypeArrayType:"选择商品规格",themeColor:"#FFCE42",popupShow:!1,combinationsProps:{id:"skuId",value:"skuValue",image:"skuImage",price:"skuPrice"},specificationsProps:{id:"id",list:"skuList",name:"skuName"},combinations:[{skuId:"1",skuValue:"一盒三种口味",skuImage:"https://7961-yangguang-089kj-1303115238.tcb.qcloud.la/gift.png?sign=ad3b81362817bc092aee25a913c3df54&t=1599635244",skuPrice:1e3},{skuId:"2",skuValue:"一盒一种口味",skuImage:"https://7961-yangguang-089kj-1303115238.tcb.qcloud.la/gift.png?sign=ad3b81362817bc092aee25a913c3df54&t=1599635244",skuPrice:2e3}],specifications:[{skuName:"选择规格",id:"123",skuList:["一盒三种口味","一盒一种口味"]}],selectedIndex:0,rolsyImg:"",rolsyIntegral:"",rolsyPrice:"",rolsyName:"",rolsyStock:"",rolsyF_SortCode:"",rolsyType:"",rolsyParameter:"",rolsyF_Description:"",rolsySpecifications5:"",Specifications:"",Specifications1:"",Specifications2:"",Specifications3:"",Specifications4:"",ID:"",count1:"",rolsySKU:""}},onLoad:function(s){console.log("option=================",s);var i=this;i.ID=s.ID,i.rolsyImg=s.Img,i.rolsyIntegral=s.Integral,i.rolsyPrice=s.Price,i.rolsyName=s.Name,i.rolsyStock=s.Stock,i.rolsyF_SortCode="null"==s.F_SortCode?"0":s.F_SortCode,i.rolsyParameter=s.Parameter,i.rolsyF_Description=s.F_Description,i.rolsyType=s.Type,"1"==i.rolsyType?i.rolsyType="送货上门":"2"==i.rolsyType?i.rolsyType="到店自提":"3"==i.rolsyType?i.rolsyType="快递包邮":"4"==i.rolsyType&&(i.rolsyType="快递到付"),e.getStorage({key:"Specifications5",success:function(e){var s=new RegExp("src=&quot;","g"),o=e.data.replace(s,"src=&quot;https://www.sunnyhotel.net:8089");i.rolsySpecifications5=i.escape2Html(o).replace(/<img /g,'<img class="rich_img" '),console.log("e",i.rolsySpecifications5),console.log(o)}}),i.Specifications=s.Specifications,i.Specifications1=s.Specifications1,i.Specifications2=s.Specifications2,i.Specifications3=s.Specifications3,i.Specifications4=s.Specifications4,"null"!==i.Specifications&&(i.detailsTypeArray=[],i.combinations=[],i.specifications[0].skuList=[],i.combinations.push({skuId:"1",skuValue:i.Specifications,skuImage:i.rolsyImg,skuPrice:i.rolsyIntegral}),i.detailsTypeArray.push(i.Specifications),i.specifications[0].skuList.push(i.Specifications)),"null"!==i.Specifications1&&(i.combinations.push({skuId:"2",skuValue:i.Specifications1,skuImage:i.rolsyImg,skuPrice:i.rolsyIntegral}),i.detailsTypeArray.push(i.Specifications1),i.specifications[0].skuList.push(i.Specifications1)),"null"!==i.Specifications2&&(i.combinations.push({skuId:"3",skuValue:i.Specifications2,skuImage:i.rolsyImg,skuPrice:i.rolsyIntegral}),i.detailsTypeArray.push(i.Specifications2),i.specifications[0].skuList.push(i.Specifications2)),"null"!==i.Specifications3&&(i.combinations.push({skuId:"4",skuValue:i.Specifications3,skuImage:i.rolsyImg,skuPrice:i.rolsyIntegral}),i.detailsTypeArray.push(i.Specifications3),i.specifications[0].skuList.push(i.Specifications3)),"null"!==i.Specifications4&&(i.combinations.push({skuId:"5",skuValue:i.Specifications4,skuImage:i.rolsyImg,skuPrice:i.rolsyIntegral}),i.detailsTypeArray.push(i.Specifications4),i.specifications[0].skuList.push(i.Specifications4)),console.log(i.combinations)},onShow:function(){},methods:{count:function(e){console.log("e",e),this.count1=e},refreshData:function(){var e=this;setTimeout((function(){e.$refs.hrPullLoad.reSet()}),300)},detailsType:function(e){this.detailsTypeIndex=e.target.value,this.detailsTypeArrayType=this.detailsTypeArray[this.detailsTypeIndex]},selectSku:function(e){console.log(e),this.popupShow=!0},handleClose:function(){this.popupShow=!1},handleConfirm:function(s){var i=this,o=this;o.rolsySKU=s.skuValue,o.count=s.count;var t={F_ModifyUserId:e.getStorageSync("openid"),OrderID:o.ID,Number:o.count};this.popupShow=!1,e.request({url:"https://www.sunnyhotel.net:8089/LR_Desktop/IMenu/SetOrder",data:{data:JSON.stringify(t)},header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",dataType:"json",success:function(s){var o=i;"兑换成功"==s.data.Message?(o.rolsyStock=s.data.Stock,o.rolsyF_SortCode=s.data.F_SortCode,e.navigateTo({url:"/pages/basics/conversion?rolsyImg="+o.rolsyImg+"&rolsyIntegral="+o.rolsyIntegral+"&rolsyPrice="+o.rolsyPrice+"&rolsyName="+o.rolsyName+"&rolsyParameter="+o.rolsyParameter+"&rolsyType="+o.rolsyType+"&count="+o.count+"&rolsySKU="+o.rolsySKU})):"兑换失败，积分不够"==s.data.Message&&e.showToast({title:"积分不足，无法兑换",duration:2e3,icon:"none"})}})},escape2Html:function(e){var s={lt:"<",gt:">",nbsp:" ",amp:"&",quot:'"'};return e.replace(/&(lt|gt|nbsp|amp|quot);/gi,(function(e,i){return s[i]}))}}};s.default=t}).call(this,i("543d")["default"])},c404:function(e,s,i){"use strict";(function(e){i("698e");o(i("66fd"));var s=o(i("112f"));function o(e){return e&&e.__esModule?e:{default:e}}e(s.default)}).call(this,i("543d")["createPage"])},c6b9:function(e,s,i){},d580:function(e,s,i){"use strict";var o={echoneSku:function(){return i.e("components/echone-sku/echone-sku").then(i.bind(null,"a90b"))}},t=function(){var e=this,s=e.$createElement;e._self._c},n=[];i.d(s,"b",(function(){return t})),i.d(s,"c",(function(){return n})),i.d(s,"a",(function(){return o}))}},[["c404","common/runtime","common/vendor"]]]);